---
phase: 06-branding-landing-page
plan: 03
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - src/components/landing/DemoPreview.tsx
autonomous: true

must_haves:
  truths:
    - "User can enter a domain name in the demo input"
    - "User sees simulated threat results after clicking scan"
    - "Demo runs client-side only (no API calls)"
    - "Demo section is visually distinct (dark background)"
  artifacts:
    - path: "src/components/landing/DemoPreview.tsx"
      provides: "Interactive demo component"
      exports: ["default"]
      min_lines: 50
  key_links:
    - from: "src/components/landing/DemoPreview.tsx"
      to: "useState"
      via: "React state for domain input and results"
      pattern: "useState"
---

<objective>
Create interactive threat scan demo for landing page that lets visitors preview the product without signing up.

Purpose: LAND-08 requires interactive demo. Demonstrates product value before signup, increases conversion by letting users "try before they buy."

Output: Client Component with domain input, simulated scan animation, and mock threat results display.
</objective>

<execution_context>
@/home/dobsondev/.claude/get-shit-done/workflows/execute-plan.md
@/home/dobsondev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-branding-landing-page/06-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create interactive DemoPreview component</name>
  <files>src/components/landing/DemoPreview.tsx</files>
  <action>
Create a Client Component for the interactive threat scan demo.

**Required 'use client' directive** - this component uses useState for interactivity.

**State:**
- domain: string (user input)
- threats: string[] (simulated results)
- scanning: boolean (loading state)

**UI Structure:**
1. Section wrapper: py-16 bg-gray-900 text-white
2. Centered content: max-w-4xl mx-auto px-4 text-center
3. Heading: "See It In Action" (text-2xl font-bold)
4. Subheading: "Enter your domain to preview potential threats" (text-gray-400)
5. Input row: flex gap-4 max-w-md mx-auto mb-8
   - Text input: flex-1, placeholder "yourbrand.com"
   - Scan button: px-6 py-3 bg-primary-600 rounded-lg
6. Results panel: bg-gray-800 rounded-lg p-6 (only shown when threats.length > 0)

**Scan logic (simulateScan function):**
```typescript
const simulateScan = () => {
  if (!domain.trim()) return
  setScanning(true)
  setThreats([])

  // Simulate scanning delay
  setTimeout(() => {
    // Generate fake threats based on input domain
    const baseDomain = domain.replace(/\.[^.]+$/, '') // Remove TLD
    setThreats([
      `${baseDomain}-login.com`,
      `${baseDomain}secure.net`,
      `${baseDomain.replace(/o/g, '0')}.com`, // Homoglyph
      `${baseDomain}.xyz`,
    ])
    setScanning(false)
  }, 1500)
}
```

**Results display:**
- Each threat in a row with:
  - Red dot indicator (w-2 h-2 bg-red-500 rounded-full)
  - Domain in monospace font (font-mono)
  - Severity badge ("High" or "Critical")

**Button states:**
- Default: "Scan" text
- Loading: "Scanning..." text, disabled state
- Use disabled={scanning || !domain.trim()}

**Accessibility:**
- Input has proper label (can be visually hidden)
- Button has clear text
- Results announced to screen readers (aria-live="polite" on results container)
  </action>
  <verify>
File exists and compiles:
```bash
ls src/components/landing/DemoPreview.tsx
npx tsc --noEmit
```

Manual test:
1. Import into page.tsx
2. Enter "acme" in input
3. Click Scan
4. See loading state
5. See generated threats like "acme-login.com", "acmesecure.net"
  </verify>
  <done>
DemoPreview component created as Client Component. User can enter domain, click scan, see simulated threats. No API calls - all client-side simulation.
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate DemoPreview into landing page</name>
  <files>src/app/page.tsx</files>
  <action>
Add DemoPreview component to the landing page composition.

**Position:** After Pricing, before Cta section.

This placement:
- User has seen features, trust signals, pricing
- Demo is "try before final CTA" opportunity
- Dark background creates visual break before final CTA

**Updated imports:**
```typescript
import DemoPreview from '@/components/landing/DemoPreview'
```

**Updated composition order:**
1. Hero
2. Features
3. TrustSignals
4. HowItWorks
5. Pricing
6. DemoPreview (NEW)
7. Cta
8. Footer

Note: DemoPreview is a Client Component, but parent page.tsx remains Server Component. This is the correct pattern - Server Components can render Client Components.
  </action>
  <verify>
Dev server runs:
```bash
npm run dev
```

Visit http://localhost:3000:
1. Scroll to demo section (after pricing)
2. Dark background section visible
3. Input and scan button work
4. Simulated threats appear
  </verify>
  <done>
DemoPreview integrated into landing page between Pricing and Cta. Interactive demo fully functional.
  </done>
</task>

</tasks>

<verification>
1. **Demo section visible on landing page:**
   - Dark background (bg-gray-900) creates visual distinction
   - Position: after Pricing, before final CTA

2. **Interactive functionality:**
   - User can type in domain input
   - Scan button triggers simulation
   - Loading state shows "Scanning..."
   - Results appear after ~1.5s delay

3. **Simulated results:**
   - 4 threat variations generated based on input
   - Each shows domain + severity indicator
   - No actual API calls made (check Network tab)

4. **Responsive:**
   - Input and button stack appropriately on mobile
   - Results readable on small screens

5. **Performance:**
   - Only DemoPreview is Client Component
   - Rest of page remains Server Components
   - No impact on LCP (demo is below fold)
</verification>

<success_criteria>
- LAND-08: Interactive threat scan preview functional
- User can enter domain and see simulated threats
- Demo is client-side only (no API calls)
- Demo section visually integrated with landing page flow
</success_criteria>

<output>
After completion, create `.planning/phases/06-branding-landing-page/06-03-SUMMARY.md`
</output>
