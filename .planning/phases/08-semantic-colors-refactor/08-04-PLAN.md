---
phase: 08-semantic-colors-refactor
plan: 04
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - src/app/globals.css
  - src/app/auth/login/page.tsx
  - src/app/auth/signup/page.tsx
  - src/app/auth/forgot-password/page.tsx
  - src/app/auth/reset-password/page.tsx
  - src/components/landing/Hero.tsx
  - src/components/landing/Features.tsx
  - src/components/landing/HowItWorks.tsx
  - src/components/landing/DemoPreview.tsx
  - src/components/landing/Pricing.tsx
  - src/components/landing/TrustSignals.tsx
  - src/components/landing/Footer.tsx
  - src/components/landing/Cta.tsx
  - src/components/Logo.tsx
  - src/components/ScanProgress.tsx
  - src/components/PlatformSelector.tsx
  - src/components/NotificationDropdown.tsx
  - src/app/pricing/page.tsx
  - src/lib/utils.ts
autonomous: false

must_haves:
  truths:
    - "Auth pages use semantic colors for forms and text"
    - "Landing page components use semantic tokens (--landing-* for dark sections)"
    - "Remaining components (Logo, ScanProgress, etc.) migrated"
    - "grep for bg-white|text-gray-|bg-gray- in src/components/ and src/app/ returns zero (excluding --landing-bg references)"
    - "Visual appearance unchanged across all pages"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Landing-specific semantic tokens for dark theme sections"
      contains: "--landing-bg:"
    - path: "src/app/auth/login/page.tsx"
      provides: "Login page with semantic colors"
      contains: "bg-card"
    - path: "src/components/landing/Hero.tsx"
      provides: "Hero component with semantic tokens"
      contains: "bg-landing"
  key_links:
    - from: "src/components/landing/*.tsx"
      to: "src/app/globals.css"
      via: "Landing semantic tokens"
      pattern: "bg-landing|text-landing"
    - from: "src/components/**/*.tsx"
      to: "tailwind.config.ts"
      via: "Semantic class names"
      pattern: "bg-card|text-foreground|border-border"
---

<objective>
Complete semantic color migration for auth pages, landing components, and remaining standalone components, then verify zero hardcoded colors remain.

Purpose: Finalize the semantic color refactor so the entire codebase uses CSS variable-based tokens, enabling dark mode in Phase 9.

Output: All remaining files migrated, codebase verification confirms zero hardcoded generic colors.
</objective>

<execution_context>
@/home/dobsondev/.claude/get-shit-done/workflows/execute-plan.md
@/home/dobsondev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/08-semantic-colors-refactor/08-RESEARCH.md

@src/app/auth/login/page.tsx
@src/components/landing/Hero.tsx
@src/app/globals.css
@tailwind.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate auth pages</name>
  <files>
src/app/auth/login/page.tsx
src/app/auth/signup/page.tsx
src/app/auth/forgot-password/page.tsx
src/app/auth/reset-password/page.tsx
  </files>
  <action>
Migrate all auth pages using standard semantic mapping.

Auth pages typically have:
- Card containers: bg-white -> bg-card
- Form labels: text-gray-700 -> text-foreground
- Helper text: text-gray-500 -> text-muted-foreground
- Input styling (handled by Input component, but check inline styles)
- Link colors: text-gray-600 -> text-muted-foreground (unless primary links)
- Dividers: border-gray-200 -> border-border

Apply mapping consistently across all 4 auth pages:
- login/page.tsx
- signup/page.tsx
- forgot-password/page.tsx
- reset-password/page.tsx

PRESERVE:
- Primary link colors (text-primary-600)
- Error message colors (red)
- Success message colors (green)
  </action>
  <verify>
Run `grep -rE "bg-white|text-gray-|bg-gray-|border-gray-" src/app/auth/` - should return 0 matches.
  </verify>
  <done>
All auth pages use semantic tokens.
No hardcoded gray colors in auth flow.
  </done>
</task>

<task type="auto">
  <name>Task 2a: Add landing semantic tokens and migrate landing components</name>
  <files>
src/app/globals.css
tailwind.config.ts
src/components/landing/Hero.tsx
src/components/landing/Features.tsx
src/components/landing/HowItWorks.tsx
src/components/landing/DemoPreview.tsx
src/components/landing/Pricing.tsx
src/components/landing/TrustSignals.tsx
src/components/landing/Footer.tsx
src/components/landing/Cta.tsx
  </files>
  <action>
**STEP 1: Add landing-specific semantic tokens to globals.css**

The landing page uses an intentional dark theme (LAND-DARK-01 decision). Create semantic tokens that preserve this dark aesthetic while enabling future theme support.

Add to :root in globals.css:
```css
/* Landing page tokens - dark theme sections */
--landing-bg: 222.2 47.4% 11.2%;           /* gray-900 equivalent - dark page background */
--landing-bg-elevated: 217.2 32.6% 17.5%;  /* gray-800 equivalent - elevated dark sections */
--landing-foreground: 210 40% 98%;          /* near-white - primary text on dark */
--landing-muted: 215 20.2% 65.1%;          /* gray-400 equivalent - secondary text on dark */
--landing-border: 217.2 32.6% 17.5%;       /* gray-800 equivalent - borders on dark */
```

**STEP 2: Add landing colors to tailwind.config.ts**

```typescript
landing: {
  DEFAULT: 'hsl(var(--landing-bg))',
  elevated: 'hsl(var(--landing-bg-elevated))',
  foreground: 'hsl(var(--landing-foreground))',
  muted: 'hsl(var(--landing-muted))',
  border: 'hsl(var(--landing-border))',
},
```

**STEP 3: Migrate landing components using this mapping**

For full-page dark sections (Hero, Features, HowItWorks, Footer, Cta):
- `bg-gray-900` -> `bg-landing`
- `bg-gray-800` -> `bg-landing-elevated`
- `text-white` / `text-gray-100` -> `text-landing-foreground`
- `text-gray-300` / `text-gray-400` -> `text-landing-muted`
- `border-gray-700` / `border-gray-800` -> `border-landing-border`

For card-like elements within landing (DemoPreview cards, Pricing cards):
- `bg-white` -> `bg-card`
- `text-gray-900` -> `text-card-foreground`
- `text-gray-500` / `text-gray-600` -> `text-muted-foreground`
- `border-gray-200` -> `border-border`

For TrustSignals (check context - if on dark or light bg):
- If on dark landing bg: use landing-* tokens
- If standalone light section: use standard semantic tokens

SPECIFIC FILE GUIDANCE:
- Hero.tsx: Full dark section -> bg-landing, text-landing-foreground
- Features.tsx: Dark section with feature cards -> bg-landing, cards use bg-landing-elevated
- HowItWorks.tsx: Dark section -> bg-landing, text-landing-foreground
- DemoPreview.tsx: Contains preview cards -> cards use bg-card, surrounding uses bg-landing if dark
- Pricing.tsx: Pricing cards on dark bg -> cards bg-card, section bg-landing
- TrustSignals.tsx: Check if dark or light context, apply appropriate tokens
- Footer.tsx: Dark footer -> bg-landing, text-landing-muted for links
- Cta.tsx: Dark CTA section -> bg-landing, text-landing-foreground
  </action>
  <verify>
Run `grep -c "gray-900" src/components/landing/` - should return 0 matches.
Run `grep -c "gray-800" src/components/landing/` - should return 0 matches.
Run `grep -c "bg-landing" src/components/landing/` - should return 5+ matches.
Run `grep "landing:" tailwind.config.ts` - should return match confirming landing colors defined.
  </verify>
  <done>
Landing semantic tokens defined in globals.css and tailwind.config.ts.
All landing components use semantic tokens (--landing-* for dark sections, standard for cards).
No hardcoded gray-800/gray-900 in landing components.
  </done>
</task>

<task type="auto">
  <name>Task 2b: Migrate standalone components and utilities</name>
  <files>
src/components/Logo.tsx
src/components/ScanProgress.tsx
src/components/PlatformSelector.tsx
src/components/NotificationDropdown.tsx
src/app/pricing/page.tsx
src/lib/utils.ts
  </files>
  <action>
Migrate remaining standalone components using standard semantic mapping.

**Logo.tsx:**
- text-gray-* -> text-foreground or text-muted-foreground
- Note: Logo may appear on both light (dashboard) and dark (landing) backgrounds
- If Logo has conditional colors for different contexts, convert both to semantic tokens

**ScanProgress.tsx:**
- Progress bar backgrounds: bg-gray-* -> bg-muted
- Progress bar fill: keep primary colors (brand)
- Text: text-gray-* -> text-muted-foreground

**PlatformSelector.tsx:**
- Form element styling: bg-gray-* -> bg-muted or bg-card
- Border: border-gray-* -> border-border
- Text: text-gray-* -> text-foreground or text-muted-foreground
- Selected state: keep primary colors (brand)

**NotificationDropdown.tsx:**
- Dropdown background: bg-white -> bg-card
- Border: border-gray-* -> border-border
- Text: text-gray-* -> text-foreground / text-muted-foreground
- Hover states: hover:bg-gray-* -> hover:bg-accent
- Unread indicators: keep specific colors (e.g., blue dot)

**pricing/page.tsx:**
- Similar to landing Pricing component
- If standalone page with dark bg: use landing tokens
- If light themed: use standard semantic tokens
- Pricing cards: bg-card, text-card-foreground

**utils.ts:**
- Check for variant maps or color-related utilities
- Update any hardcoded gray class strings to semantic equivalents
- Example: `{ default: 'bg-gray-100 text-gray-800' }` -> `{ default: 'bg-muted text-foreground' }`
  </action>
  <verify>
Run `grep -rE "bg-white|bg-gray-[0-9]" src/components/Logo.tsx src/components/ScanProgress.tsx src/components/PlatformSelector.tsx src/components/NotificationDropdown.tsx` - should return 0 matches.
Run `grep -rE "text-gray-[0-9]" src/lib/utils.ts` - should return 0 matches.
  </verify>
  <done>
All standalone components use semantic tokens.
utils.ts variant maps updated to semantic classes.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete semantic color refactor across entire codebase:
- CSS variables defined in globals.css (standard + landing-specific)
- Tailwind config extended with semantic colors (including landing)
- All UI components migrated
- All dashboard pages migrated
- All auth pages migrated
- All landing components migrated (using --landing-* tokens for dark sections)
- All remaining components migrated
  </what-built>
  <how-to-verify>
1. Run verification commands:
   ```bash
   # Check for remaining hardcoded colors in components (excluding CSS variable definitions)
   grep -rE "bg-white|text-gray-[0-9]|bg-gray-[0-9]|border-gray-[0-9]" src/components/ src/app/ --include="*.tsx" | grep -v "globals.css"
   ```
   Should return 0 results.

2. Verify landing tokens exist:
   ```bash
   grep "landing-bg" src/app/globals.css
   grep "landing:" tailwind.config.ts
   ```
   Both should return matches.

3. Visual verification - run dev server (`npm run dev`):
   - Visit http://localhost:3000 - Landing page looks correct (dark sections preserved)
   - Visit http://localhost:3000/auth/login - Auth pages look correct
   - Visit http://localhost:3000/dashboard - Dashboard looks correct (requires login)
   - Check cards, buttons, inputs, text colors

4. Build verification:
   ```bash
   npm run build
   ```
   Should complete without errors.

5. Compare before/after:
   - Landing page: Dark aesthetic preserved, same visual appearance
   - Dashboard: Light theme unchanged
   - Auth pages: Clean form styling unchanged
  </how-to-verify>
  <resume-signal>
Type "approved" if all pages render correctly with no visual regression.
Describe issues if any pages have broken colors or missing styles.
  </resume-signal>
</task>

</tasks>

<verification>
Final codebase verification:
1. `grep -rE "bg-white" src/components/ src/app/ --include="*.tsx" | grep -v globals.css` -> 0 results
2. `grep -rE "text-gray-[0-9]" src/components/ src/app/ --include="*.tsx"` -> 0 results
3. `grep -rE "bg-gray-[0-9][0-9]?" src/components/ src/app/ --include="*.tsx"` -> 0 results
4. `grep "landing-bg" src/app/globals.css` -> match found (landing tokens exist)
5. `npm run build` -> success
6. Visual inspection confirms no regression
</verification>

<success_criteria>
Phase 8 success criteria from roadmap:
1. All hardcoded color values (hex, rgb) replaced with CSS variables - CHECK globals.css
2. All UI components use semantic color tokens - CHECK via grep
3. No visual regressions in light mode after refactor - CHECK via human verify
4. Codebase grep for "bg-white", "text-gray-", "bg-gray-" returns zero results in components - CHECK (landing uses --landing-* semantic tokens, not hardcoded)

All criteria must pass for phase completion.
</success_criteria>

<output>
After completion, create `.planning/phases/08-semantic-colors-refactor/08-04-SUMMARY.md`
</output>
